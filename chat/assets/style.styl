@import "nib"
@import "chat/assets/tipsy_styles"

global-reset()
reset-html5()

light-grey = #FAFAFA
med-grey = #C9C9C9
dark-hover-grey = #B3B3B3
dark-active-grey = #DDD
border-grey = 1px solid med-grey
accent-red = #D25030
sans-font-family = "Helvetica Neue", "Lucida Grande", Helvetica, Arial, Verdana, sans-serif
mono-font-family = "Cousine", monospace

body
  font: 14px/18px sans-font-family
  width: 100%
  height: 100%
  overflow: hidden

a
  text-decoration: none
  color: #D20000

button
  font-family: sans-font-family
  font-size: 12px
  font-weight: bold
  color: #444
  background: whiteSmoke
  border: border-grey
  border-radius: 2px
  &:hover
    box-shadow: 0px 1px 1px rgba(0,0,0,.1)
    border: 1px solid dark-hover-grey
  &:active
    background: dark-active-grey

.left-sidebar
  absolute: top left
  height: 100%
  width: 200px
  border-right: border-grey
  &.closed { display: none }
  .logo-title
    font: bold 30px "Oswald", sans-serif
    div { margin: 30px }
  .channel-list-container
    margin-left: -3px
    width: 150px
    button
      width: 150px
      height: 35px
      margin: 4px 0px
      padding: 0px 5px 0px 10px
      text-align: left
      font-size: 14px
      overflow: ellipsis
    .current
      background: accent-red
      color: white
    div.add-channel-container
      font-size: 14px
      font-weight: bold
      color: #444
      background: whiteSmoke
      border: border-grey
      border-radius: 2px
      &:hover
        box-shadow: 0px 1px 1px rgba(0,0,0,.1)
        border: 1px solid dark-hover-grey
      &:active
        background: dark-active-grey
      height: 35px
      width: 15px
      margin: 4px 0px
      padding: 0px 5px 0px 10px
      text-align: left
      .plus-label
        margin-top: 8px
        display: inline-block
      .new-channel-name
        margin-top: 8px
        margin-left: 0px
        display: none

.main-content
  background: white
  absolute: top right
  height: 100%
  &:not(.collapse-left) { left: 200px }
  &.collapse-left { left: 0px }
.right-sidebar
  absolute: top right
  height: 100%
  width: 200px
  &.closed { display: none }
  .channel-users
    &:not(.current) { display: none }
    width: 100%
    overflow-y: auto
    .user-status
      background-repeat: no-repeat
      background-position: 5px 3px
      padding: 0 5px 0 (18px + 5px + 5px)
      font-size: 14px
      line-height: 26px
      position: relative
      .overlay
        pointer-events: none
        absolute: top left
        width: 100%
        height: 100%
        background-color: white
        opacity: 0
        z-index: 100
      &.offline
        font-style: italic
        .overlay { opacity: 0.7 }

.chat-column
  absolute: top left
  min-width: 300px
  height: 100%
  &.collapse-right { right: 0px }
  &:not(.collapse-right) { right: 200px }
.alert-container
  relative: top
  margin-top: 32px
  margin-left: auto
  margin-right: auto
  z-index: 5000
.alert
  padding: 8px 35px 8px 14px
  margin-bottom: 18px
  color: #C09853
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5)
  background-color: #FCF8E3
  border: 1px solid #FBEED5
  border-radius: 4px
  .close
    relative: top -2px right -21px
    line-height: 18px
  &.alert-error
    color: #B94A48
    background-color: #F2DEDE
    border-color: #EED3D7
.close
  float: right
  font-size: 20px
  font-weight: bold
  line-height: 18px
  color: black
  text-shadow: 0 1px 0 white
  opacity: 0.2
.chat-controls
  absolute: top left
  right: 0px
  height: 29px
  background: light-grey
  border: border-grey
  border-top: none
  border-radius: bottom 2px
  button
    height: 20px
  .toggle-left-sidebar
    absolute: top left
  .toggle-right-sidebar
    absolute: top right
  .toggle-right-sidebar, .toggle-left-sidebar
    button { width: 25px }
    margin: 5px
    font-size: 12px
    .ss-icon
      color: #888
  .channel-name
    position: relative
    width: 80%
    margin-left: auto
    margin-right: auto
    margin-top: 5px
    margin-bottom: 5px
    text-align: center
  .control-button-container
    absolute: right 50px
    margin: 5px

.chat-messages-container
  &:not(.current) { display: none }
  absolute: top 30px left
  bottom: 81px
  width: 100%
  background: white
  overflow-y: auto
  overflow-x: hidden
  padding-top: 5px
  .message-container
    font-size: 14px
    color: #333
    margin: 8px
    position: relative
    .user-mention
      font-weight: bold
    .its-you
      color: accent-red
    .author
      display: inline-block
      font-size: 12px
      line-height: 0
      font-weight: bold
      absolute: top 9px left 18px + 3px
    .email
      display: none
    .gravatar
      display: inline-block
    .time
      display: inline-block
      float: right
      font-size: 9px
    p, ol, div, ul
      margin-bottom: 5px
    code
      padding: 0px 2px
      font: 12px/16px mono-font-family
      background: #F0EEEA
    .highlight
      white-space: pre
      padding: 5px
      font: 12px/16px mono-font-family
      background: #F0EEEA
      border: 1px solid #D0CABD
      border-radius: 2px

  .message
    img
      max-width: 300px
    strong
      font-weight: bold
    em
      font-style: italic
    blockquote
      border-left: 5px solid lightgrey
      padding-left: 4px
      color: grey
    display: inline
    &:last-child
      p, ol, div, ul
        margin-bottom: 0

.message-separator
  &:first-child
    display: none
  border-bottom: border-grey
.input-container
  absolute: bottom left
  right: 0px
  height: 80px
  background: light-grey
  border-top: border-grey
  border-left: border-grey
  border-right: border-grey
  border-radius: top 2px
.chat-text-wrapper
  absolute: top left
  right: 85px
  bottom: 0px
  padding: 10px
  textarea
    font-family: sans-font-family
    border-radius: 2px
    border: border-grey
    width: 100%
    height: 100%
    font-size: 14px
.input-controls
  absolute: top right
  bottom: 0px
  padding: 10px 0px
  width: 75px
  button
    height: 30px
    width: 65px
    &.chat-submit
      margin-bottom: 5px

// pygments styling

.highlight
  background: #fff

.highlight .c
  color: #998
  font-style: italic

.highlight .err
  color: #a61717
  background-color: #e3d2d2

.highlight .k
  font-weight: bold

.highlight .o
  font-weight: bold

.highlight .cm
  color: #998
  font-style: italic

.highlight .cp
  color: #999
  font-weight: bold

.highlight .c1
  color: #998
  font-style: italic

.highlight .cs
  color: #999
  font-weight: bold
  font-style: italic

.highlight .gd
  color: #000
  background-color: #fdd

.highlight .gd .x
  color: #000
  background-color: #faa

.highlight .ge
  font-style: italic

.highlight .gr
  color: #a00

.highlight .gh
  color: #999

.highlight .gi
  color: #000
  background-color: #dfd

.highlight .gi .x
  color: #000
  background-color: #afa

.highlight .go
  color: #888

.highlight .gp
  color: #555

.highlight .gs
  font-weight: bold

.highlight .gu
  color: #800080
  font-weight: bold

.highlight .gt
  color: #a00

.highlight .kc
  font-weight: bold

.highlight .kd
  font-weight: bold

.highlight .kn
  font-weight: bold

.highlight .kp
  font-weight: bold

.highlight .kr
  font-weight: bold

.highlight .kt
  color: #458
  font-weight: bold

.highlight .m
  color: #099

.highlight .s
  color: #d14

.highlight .na
  color: #008080

.highlight .nb
  color: #0086B3

.highlight .nc
  color: #458
  font-weight: bold

.highlight .no
  color: #008080

.highlight .ni
  color: #800080

.highlight .ne
  color: #900
  font-weight: bold

.highlight .nf
  color: #900
  font-weight: bold

.highlight .nn
  color: #555

.highlight .nt
  color: #000080

.highlight .nv
  color: #008080

.highlight .ow
  font-weight: bold

.highlight .w
  color: #bbb

.highlight .mf
  color: #099

.highlight .mh
  color: #099

.highlight .mi
  color: #099

.highlight .mo
  color: #099

.highlight .sb
  color: #d14

.highlight .sc
  color: #d14

.highlight .sd
  color: #d14

.highlight .s2
  color: #d14

.highlight .se
  color: #d14

.highlight .sh
  color: #d14

.highlight .si
  color: #d14

.highlight .sx
  color: #d14

.highlight .sr
  color: #009926

.highlight .s1
  color: #d14

.highlight .ss
  color: #990073

.highlight .bp
  color: #999

.highlight .vc
  color: #008080

.highlight .vg
  color: #008080

.highlight .vi
  color: #008080

.highlight .il
  color: #099

.highlight .gc
  color: #999
  background-color: #EAF2F5
